
<!-- saved from url=(0073)http://community.versant.com/Projects/html/projectspaces/espanol/faq.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>FAQ</title>
    <link rel="stylesheet" type="text/css" href="./FAQ_files/style.css">
  </head>
  <body>
    <div class="CommonContent">
      <div class="CommonContentArea">
        <h1>FAQ</h1><div id="TOC"><div id="TOCinner"><span class="TOCtitle">Contents</span><div class="TOCcontents"><ul><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#1) ¿Que significa db4o o db4objects?">1) ¿Que significa db4o o db4objects?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#2) ¿Donde puedo descargarlo?">2) ¿Donde puedo descargarlo?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#3) ¿Cuales son las operaciones que puedo realizar en db4o?">3) ¿Cuales son las operaciones que puedo realizar en db4o?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#4) ¿Cómo almaceno un objeto?">4) ¿Cómo almaceno un objeto?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#5) ¿Como consulto la base de datos?">5) ¿Como consulto la base de datos?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#6) ¿Donde están las primary keys?">6) ¿Donde están las primary keys?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#7) Los objetos en la base aparecen duplicados!">7) Los objetos en la base aparecen duplicados!</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#8) ¿Porque al borrar objetos el tamaño del archivo yap no disminuye? (defragmentación)">8) ¿Porque al borrar objetos el tamaño del archivo yap no disminuye? (defragmentación)</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#9) ¿Como hago Foreign Keys (Relaciones entre objetos)?">9) ¿Como hago Foreign Keys (Relaciones entre objetos)?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#10) Tengo un objeto que tiene una colección y al sacarlo de la base la colección siempre viene null!">10) Tengo un objeto que tiene una colección y al sacarlo de la base la colección siempre viene null!</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#11) ¿Como puedo obtener el resultado de las consultas ordenado?">11) ¿Como puedo obtener el resultado de las consultas ordenado?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#12) Al realizar una operación sobre un objeto obtengo resultados erroneos porque el objeto en memoria no está actualizado con la versión que está almacenada en la base de datos ¿Como hago para actualizar los objetos en memoria con la versión almacenada?">12) Al realizar una operación sobre un objeto obtengo resultados erroneos porque el objeto en memoria&nbsp;no está actualizado&nbsp;con la versión que está almacenada en la base de datos&nbsp;¿Como hago para actualizar los objetos en memoria con la versión almacenada?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#13) ¿Almacena db4o todos los atributos de un objeto sin importar si son private, default, protected o public (Java)?">13) ¿Almacena db4o todos los&nbsp;atributos de un objeto sin importar si son private, default, protected o public (Java)?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#14) No puedo leer un archivo yap de la versión xx.xx de db4o con la nueva versión yy.yy !">14) No puedo leer un archivo yap de la versión xx.xx de db4o con la nueva versión yy.yy !</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#15) ¿Que es y como se usa el sistema de replicación dRS?">15) ¿Que es y como se usa el sistema de replicación dRS?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#16) Cuando consulto un objeto que tiene colecciones estas vienen vacias ¿Que sucede?">16) Cuando consulto un objeto que tiene colecciones estas vienen vacias ¿Que sucede?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#17) Cuando obtengo un objeto con Db4o.ext().GetByID(id) todos sus campos vienen vacios ¿Que sucede?">17) Cuando obtengo un objeto&nbsp;con Db4o.ext().GetByID(id) todos sus campos vienen vacios ¿Que sucede?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#18) ¿Tengo que escribir código adicional para sincronizar objetos? ¿db4o retorna la misma referencia si consulto el mismo objeto dos veces simultaneamente?">18) ¿Tengo que escribir código adicional para sincronizar objetos? ¿db4o retorna la misma referencia si consulto el mismo objeto dos veces simultaneamente?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#19) ¿Como recuperar uno o dos atributos solamente de los objetos almacenados de forma rápida?">19) ¿Como recuperar uno o dos atributos solamente de los objetos almacenados de forma rápida?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#20) ¿Maneja db4o los problemas de referencia cíclica?">20) ¿Maneja db4o los problemas de referencia cíclica?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#21) ¿Soporta db4o las caracteristicas ACID?">21) ¿Soporta db4o las caracteristicas ACID?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#22) ¿Hay herramientas de diseño especiales para db4o?">22) ¿Hay herramientas de diseño especiales para db4o?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#23) ¿A que tengo que prestarle atención al utilizar una base db4o en mi aplicación?">23) ¿A que tengo que prestarle atención&nbsp;al utilizar&nbsp;una base db4o en mi aplicación?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#24) ¿Soporta db4o a C/C++?">24) ¿Soporta db4o a C/C++?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#25) ¿Soporta db4o VB.NET y Delphi.NET?">25) ¿Soporta db4o VB.NET y&nbsp;Delphi.NET?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#26) ¿Como conviene almacenar objetos con datos binarios como imágenes o audio?">26) ¿Como conviene almacenar objetos con datos binarios como imágenes o audio?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#27) ¿Cuenta db4o con soporte de clustering?">27) ¿Cuenta db4o con soporte de clustering?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#28) ¿Soporta db4o funciones de agregación como count, sum o average?">28) ¿Soporta db4o funciones de agregación como count, sum o average?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#29) ¿Con respecto a la capacidad de evolución automática del esquema en db4o, que tan bien se soporta la refactorización de clases?">29) ¿Con respecto a la capacidad de evolución automática del esquema en db4o, que tan bien se soporta la refactorización de clases?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#30) ¿Cual es la diferencia entre db4o y serialización en Java?">30) ¿Cual es la diferencia entre db4o y serialización en Java?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#31) ¿Es compatible una base db4o generada desde la versión Java con otra generada desde la versión .NET?">31) ¿Es compatible una base db4o generada desde la versión Java con otra generada desde la versión .NET?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#32) ¿Se soportan las anotaciones en el core para configuración (por ejemplo utilizar" @index"="" para="" configurar="" un="" índice)?"="">32) ¿Se soportan las anotaciones en el core para&nbsp;configuración (por ejemplo utilizar "@index" para configurar un índice)?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#34) ¿Es recomendable db4o para modelos GIS?">34) ¿Es recomendable db4o para modelos GIS?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#35) ¿Como determina db4o el comienzo y finalización de las transacciones?">35) ¿Como&nbsp;determina db4o&nbsp;el comienzo y finalización de las&nbsp;transacciones?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#36) ¿Posee db4o administración de locks o funciona como servidor de locks?">36) ¿Posee db4o administración de locks o funciona como servidor de locks?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#37) ¿Puede db4o hacer rollbacks?">37) ¿Puede db4o hacer rollbacks?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#38) ¿Se puede abrir la base en modo de solo lectura?">38) ¿Se puede abrir la base en modo de solo lectura?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#39) ¿Es posible detectar de alguna manera cambios en el esquema del modelo de objetos almacenado en db4o?">39) ¿Es posible detectar de alguna manera cambios en el esquema del modelo de objetos almacenado en db4o?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#40) ¿Como se crea el archivo yap de db4o antes de abrirlo?">40) ¿Como se crea el archivo yap de db4o antes de abrirlo?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#41) ¿Como se crea un índice?">41) ¿Como se crea un índice?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#42) ¿Como se utiliza un semáforo en db4o?">42) ¿Como se utiliza un semáforo en db4o?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#43) ¿Como se crea un backup de una base de db4o?">43) ¿Como se crea un backup de una base de db4o?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#44) ¿Como se renombra una clase? ¿Y un atributo?">44) ¿Como se renombra una clase? ¿Y un atributo?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#45) ¿Como se encripta una base db4o?">45) ¿Como se encripta una base db4o?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#46) ¿Como se utiliza db4o en modo cliente/servidor?">46) ¿Como se utiliza db4o en modo cliente/servidor?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#47) ¿Como se elimina un atributo/campo de un objeto en db4o?">47) ¿Como se elimina un atributo/campo de un objeto en db4o?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#48) ¿Alguna recomendación para correr db4o en un sitio web con múltiples conexiones concurrentes?">48) ¿Alguna recomendación para correr db4o en un sitio web con múltiples conexiones concurrentes?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#49) ¿Soporta db4o la paginación (paging) de los resultados de las consultas?">49) ¿Soporta db4o la paginación (paging) de los resultados de las consultas?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#50) ¿Que requisitos deben cumplir mis objetos para ser almacenados en db4o (herencia, anotaciones, constructores, etc)?">50) ¿Que requisitos deben cumplir mis objetos para ser almacenados en db4o (herencia, anotaciones, constructores, etc)?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#51) ¿Como puedo saber si una consulta nativa fue optimizada?">51) ¿Como puedo saber si una consulta nativa fue optimizada?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#52) ¿Como puedo refactorizar una clase agregandole una clase padre y mover un atributo desde la clase hija a la clase padre?">52) ¿Como puedo refactorizar una clase agregandole una clase padre y mover un atributo desde la clase hija a la clase padre?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#53) Olvidé habilitar los UUIDs y VersionNumbers en mi BD pero ya tengo muchos objetos en ella ¿Como puedo habilitar esto sin perder mis objetos?">53) Olvidé habilitar los UUIDs y VersionNumbers en mi BD pero ya tengo muchos objetos en ella ¿Como puedo habilitar esto sin perder mis objetos?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#54) ¿Los IDs de objetos que usa db4o son temporales?">54) ¿Los IDs de objetos que usa db4o son temporales?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#55) ¿Qué son los UUIDs y los VersionNumbers?">55) ¿Qué son los UUIDs y los VersionNumbers?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#56) ¿Puedo usar db4o en celulares?">56) ¿Puedo usar db4o en celulares?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#57) ¿Puedo utilizar db4o con Symbian OS?">57) ¿Puedo utilizar db4o con Symbian OS?</a></li><li><a href="http://community.versant.com/Projects/html/projectspaces/espanol/faq.html#58) ¿Si uso db4o sin adquirir una licencia comercial mi software también debe ser de código abierto?">58) ¿Si uso db4o sin adquirir una licencia comercial mi software también debe ser de código abierto?</a></li></ul></div></div></div><a name="1) ¿Que significa db4o o db4objects?"></a><h4>1) ¿Que significa db4o o db4objects?</h4>
<p>Es la contracción de <em>"database for objects"</em> que se traduce como <em>"base de datos para objetos"</em>. </p>
<a name="2) ¿Donde puedo descargarlo?"></a><h4>2) ¿Donde puedo descargarlo?</h4>
<p>En nuestra <a href="http://developer.db4o.com/files/default.aspx" target="_blank">sección de descargas</a>!</p>
<a name="3) ¿Cuales son las operaciones que puedo realizar en db4o?"></a><h4>3) ¿Cuales son las operaciones que puedo realizar en db4o?</h4>
<p><u>Básicas:</u></p>
<p><strong>Set:</strong> graba objetos en la base<br><strong>Get: </strong>recupera un objeto de la base a través de un prototipo<br><strong>Delete:</strong> elimina un objeto<br><strong>Query:</strong> hace una consulta retornando una colección de tipo ObjectSet<br><strong>Commit y Rollback: </strong>confirma/anula una transacción</p>
<a name="4) ¿Cómo almaceno un objeto?"></a><h4>4) ¿Cómo almaceno un objeto?</h4>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">public void guardar(Cliente cliente){</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-INDENT:0.5in;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">ObjectContainer db = Db4o.openFile("clientes.yap");</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-INDENT:0.5in;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">db.set(cliente);</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-INDENT:0.5in;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">db.commit();</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-INDENT:0.5in;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">db.close();</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">}</span></em></p>
<a name="5) ¿Como consulto la base de datos?"></a><h4>5) ¿Como consulto la base de datos?</h4>
<p>Hay tres formas de realizar consultas en db4o.</p>
<p>El primer método es <em>Query By Example (QBE)</em> en el cual la idea principal es darle al <em>ObjectContainer</em> un objeto que represente el criterio de búsqueda de los objetos dándonos así resultados de objetos con las características del objeto otorgado (se utiliza un prototipo de búsqueda).<br><br>El segundo método se denomina <em>S.O.D.A. (Simple Object Database Access)</em>, con el cual podremos realizar las consultas más complejas dentro de estructuras profundas a través de la clase Query. Esta clase provee métodos particulares que nos permiten descender en la información de las propiedades de los objetos a buscar (más información de la api SODA en <a href="http://sodaquery.sourceforge.net/" target="_blank">http://sodaquery.sourceforge.net</a>).<br><br>Por último, el método más apreciado por los fanáticos es el de las Consultas Nativas (<em>Native Queries</em>), donde realmente la consulta se realiza en el propio lenguaje de programación del ambiente en que estemos desarrollando, por lo tanto son 100% seguras a nivel de tipos, 100% verificadas en tiempo de compilación y por supuesto 100% refactorizables.</p>
<p>Las consultas nativas funcionan sobre <em>SODA</em>, por lo que cada una de ellas pasara por un conversor, lo cual conlleva un tiempo de procesador, y la ejecución se hará en formato <em>SODA</em>. Para mejorar estos tiempos, db4o cuenta con una herramienta llamada <em>Native Query Optimizer</em> que se encarga de configurar el contenedor para que las consultas sean lo mas óptimas posible. <br></p>
<p>A continuación mostramos un ejemplo con los tres tipos de consultas donde se busca los clientes de nombre "UsuarioDb4o": </p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">//Obtenemos una instancia de ObjectContainer</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">ObjectContainer oc = Db4o.openFile("db.yap");</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;"></span></em>&nbsp;</p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">//Realizamos una consulta por QBE</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">Cliente cliente = new Cliente("UsuarioDb4o");</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">ObjectSet clientes = oc.get(cliente);</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">ImprimirClientes(clientes);</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;"></span></em>&nbsp;</p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">//Realizamos una consulta por SODA</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">Query query = oc.query();</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">query.constrain(Cliente.class);</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">query.descend("nombre").constrain("UsuarioDb4o");</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">ObjectSet clientes = query.execute();</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">ImprimirClientes(clientes);</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;"></span></em>&nbsp;</p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">//Realizamos una consulta por Native Queries</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">List clientes = oc.query(new Predicate(){</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">public boolean match(Cliente client){</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">return client.getNombre().equals("UsuarioDb4o");</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">}</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">});</span></em></p>
<p class="t2" style="MARGIN:0in 0in 0pt;TEXT-ALIGN:justify;"><em><span style="FONT-SIZE:10pt;">ImprimirClientes(clientes);</span></em></p>
<p class="MsoNormal"><em><span style="FONT-SIZE:10pt;">oc.close();</span></em></p>
<a name="6) ¿Donde están las primary keys?"></a><h4>6) ¿Donde están las primary keys?</h4>Las primary keys son conceptos de bases de datos relacionales, en la orientacion a objetos tenemos los UUID (Indentificador Unico Universal) que lo genera la base de datos cuando persiste al objeto y es en base a esta referencia que el motor administra las acciones hacia los objetos, pero los UUID y los primary keys tienen funcionalidad diferente, los UUID sirven para identificar a los objetos, mientras que las primary keys sirven para identificar a los datos y restringir claves duplicadas, al usar Db4o tu debes implementar el mecanismo para restringir claves duplicadas en el campo que tu definas, la version 5.5 de DB4o facilita esta tarea gracias a la exposicion de Callbacks para sensar los eventos que ocurren en la base de datos 
<a name="7) Los objetos en la base aparecen duplicados!"></a><h4>7) Los objetos en la base aparecen duplicados!</h4>
<p>Cuando se guarda un objeto X compuesto por otros objetos Y, hay que tener en cuenta que estos otros objetos Y deberían haberse persistido previamente. Si la operación no se realiza de esta forma, aunque el objeto Y dentro del objeto X sea idéntico a otro objeto Y ya persistido previamente, db4o almacenará toda la estructura del objeto X dejando así un duplicado de cada objeto Y. El salvar este inconveniente no constituye una tarea compleja y a la hora de construir el objeto X haremos una consulta a db4o para obtener el objeto Y, y utilizaremos esta referencia para trabajar, que una vez obtenida de la base ya es tomada en cuenta por db4o en las operaciones siguientes con el objeto.<br>Este problema se presenta generalmente cuando hacemos asociaciones de objetos en la memoria, y hemos cerrado el contenedor de objetos (ObjectContainer), supongamos que queremos asociar un objeto a otro que ya esta guardado en la base, primero obtenemos el objeto desde la base luego se lo asignamos al que lo va a contener, y al guardar no se va a duplicar porque al estar abierto el ObjectContainer db4o sigue referenciando al objeto que hemos sacado con el identificador puesto por la base al haberlo persistido anteriormente, en cambio si cerramos la conexion como normalmente se hace en las bases tradicionales el motor de la base pierde la referencia al objeto y aunque tenga los mismos valores en sus campos y todo lo demas para la base sera un nuevo objeto, por este motivo se produce la duplicacion de objetos, la manera mas facil de resolverla es no cerrar el ObjectContainer asi todo con lo que estemos trabajando estara siendo referenciado por la base de datos </p>
<a name="8) ¿Porque al borrar objetos el tamaño del archivo yap no disminuye? (defragmentación)"></a><h4>8) ¿Porque al borrar objetos el tamaño del archivo yap no disminuye? (defragmentación)</h4>
<p>Incluso aunque se borren todos los objetos db4o se retendrá todo el espacio alocado previamente para ser reutilizado en las sesiones futuras. Normalmente a medida que se hacen inserciones en la base este espacio libre va siendo reutilizado. </p>
<p>Para achicar el archivo se necesita realizar un proceso de <em>defragmentación</em> del archivo yap (ver com.db4o.tools.Defragment) que leerá a través del archivo y liberará todo espacio no alocado reacomodando todos los objetos alocados para que sean contiguos y luego liberando la mayor cantidad posible de espacio no alocado.</p>
<p>Ejemplos:</p>
<p><em>Db4oTools.Defragment().Run()</em></p>
<p><em>new Defragment().run(c:\xyzDB\xDB.yap, true);</em>&nbsp;</p>
<p>Adicionalmente, si se están realizando unit tests que necesitan una base vacía por cada test se recomienda volver a generar el archivo yap en cada test (ver <a href="http://developer.db4o.com/forums/thread/24540.aspx" target="_blank">http://developer.db4o.com/forums/thread/24540.aspx</a>).</p>
<p>Si a pesar de la defragmentación el archivo yap continua creciendo ver este thread: <a href="http://developer.db4o.com/forums/thread/21737.aspx" target="_blank">http://developer.db4o.com/forums/thread/21737.aspx</a> </p>
<a name="9) ¿Como hago Foreign Keys (Relaciones entre objetos)?"></a><h4>9) ¿Como hago Foreign Keys (Relaciones entre objetos)?</h4>En el mundo de los objetos esto se conoce como agregación o composición. Para crear relaciones entre objetos solo hay que definir un objeto del cual se quiere tener referencia como atributo del objeto que lo va a contener, con esto ya tenemos cubierta la típica relación uno a uno de los SGBDR (Sistemas de Gestion de Bases de Datos Relacionales). Ahora como hacemos una relacion de muchos a muchos? Pues fácil, en lugar de definir un solo objeto como atributo del objeto que lo va a contener definimos una colección, arreglo o conjunto y ya es suficiente; de esta manera un objeto contiene muchos objetos del otro tipo, y no hay que hacer nada adicional para persistirlo en la base de datos. 
<a name="10) Tengo un objeto que tiene una colección y al sacarlo de la base la colección siempre viene null!"></a><h4>10) Tengo un objeto que tiene una colección y al sacarlo de la base la colección siempre viene null!</h4>Bueno, esto se debe al nivel de profundidad en la activación (instanciación interna en el árbol de objetos) que hace db4o al sacar un objeto de la base para optimizar recursos. Lo que sucede con los arrays es que heredan de muchos tipos e implementan bastantes interfaces por lo que el árbol de objetos se vuelve más profundo de lo esperado y el nivel de activación de db4o por omisión (que es de 5 niveles) no cubre a esos nodos, por lo que hay que configurar la base para que active a esos nodos al momento de realizar una consulta. Esta configuración se realiza de la siguiente forma: <br><em>db4o.Db4oFactory.Configure().ActivationDepth( aqui va la profundidad de activacion );</em> Ejemplo: <br><em>db4o.Db4oFactory.Configure().ActivationDepth(20); <br></em>Ese es un valor recomendable para una estructura complleja de objetos.<br>Tambien pueden definirse activaciones en cascada, actualizaciones y eliminaciones: <br>
<p>En .Net <br><em>db4o.Db4oFactory.Configure().ObjectClass(typeof( TuTipodeObjeto )).UpdateDepth(20);<br>db4o.Db4oFactory.Configure().ObjectClass(typeof(TuTipodeObjeto)).CascadeOnActivate(true);<br>db4o.Db4oFactory.Configure().ObjectClass(typeof(TuTipodeObjeto)).CascadeOnUpdate(true);<br>db4o.Db4oFactory.Configure().ObjectClass(typeof(TuTipodeObjeto)).CascadeOnDelete(true);</em> <br></p>
<p>En Java<br><em>db4o.Db4oFactory.Configure().ObjectClass(TuTipodeObjeto.Class).UpdateDepth(20);<br>db4o.Db4oFactory.Configure().ObjectClass(TuTipodeObjeto.Class).CascadeOnActivate(true);<br>db4o.Db4oFactory.Configure().ObjectClass(TuTipodeObjeto.Class).CascadeOnUpdate(true);<br>db4o.Db4oFactory.Configure().ObjectClass(TuTipodeObjeto.Class).CascadeOnDelete(true);</em> <br><br>Cabe recalcar que toda esta configuración se realiza antes de abrir el ObjectContainer!</p>
<a name="11) ¿Como puedo obtener el resultado de las consultas ordenado?"></a><h4>11) ¿Como puedo obtener el resultado de las consultas ordenado?<br></h4>
<p>Para ordenar las consultas es necesario ordenar la coleccion de objetos resultante del query, algunas soluciones las pueden ver en: </p>
<p><a title="http://developer.db4o.com/forums/thread/28802.aspx" href="http://developer.db4o.com/forums/thread/28802.aspx">http://developer.db4o.com/forums/thread/28802.aspx</a></p>
<p><a href="http://developer.db4o.com/forums/thread/29690.aspx">http://developer.db4o.com/forums/thread/29690.aspx</a> y</p>
<p><a href="http://developer.db4o.com/forums/thread/14725.aspx">http://developer.db4o.com/forums/thread/14725.aspx</a> entre otros)</p>
<a name="12) Al realizar una operación sobre un objeto obtengo resultados erroneos porque el objeto en memoria no está actualizado con la versión que está almacenada en la base de datos ¿Como hago para actualizar los objetos en memoria con la versión almacenada?"></a><h4>12) Al realizar una operación sobre un objeto obtengo resultados erroneos porque el objeto en memoria&nbsp;no está actualizado&nbsp;con la versión que está almacenada en la base de datos&nbsp;¿Como hago para actualizar los objetos en memoria con la versión almacenada?<br></h4>
<p>Para esto es necesario hacer una operación de&nbsp;<em>refresh</em> que refresca los objetos en memoria con los de la base de datos. </p>
<p><em>objectContainer.ext().refresh(object, ACTIVATION_DEPTH);</em></p>
<p>Ver: <a href="http://developer.db4o.com/forums/thread/29826.aspx" target="_blank">http://developer.db4o.com/forums/thread/29826.aspx</a></p>
<a name="13) ¿Almacena db4o todos los atributos de un objeto sin importar si son private, default, protected o public (Java)?"></a><h4>13) ¿Almacena db4o todos los&nbsp;atributos de un objeto sin importar si son private, default, protected o public (Java)?<br></h4>
<p>Si. db4o almacena a todos ellos. Solo los campos marcados como <em>transient</em> no se almacenan en la base (para Java, algo similar pasa en .NET). Y si tiene que almacenar los campos <em>transient</em> si o si puede probar lo siguiente: </p>
<p><em>Db4o.configure().objectClass(MyClass.class).storeTransientFields(true);</em></p>
<p>Para marcar un&nbsp;atributo como transient puede hacerse así:</p>
<p><em>[Transient]<br>private string atribute;</em></p>
<p>o así:</p>
<p><em>container.Ext().Configuration().MarkTransient("nombre completo del atributo incluyendo su&nbsp;namespace");</em></p>
<a name="14) No puedo leer un archivo yap de la versión xx.xx de db4o con la nueva versión yy.yy !"></a><h4>14) No puedo leer un archivo yap de la versión xx.xx de db4o con la nueva versión yy.yy !<br></h4>
<p>Para lograr esto es necesario arrancar la aplicación con <em>Db4o.configure().allowVersionUpdates(true)</em>. Ver este <a href="http://developer.db4o.com/forums/thread/30390.aspx" target="_blank">thread</a>. </p>
<a name="15) ¿Que es y como se usa el sistema de replicación dRS?"></a><h4>15) ¿Que es y como se usa el sistema de replicación dRS?<br></h4>
<p>El sistema de replicación dRS permite replicar datos entre instancias de db4o (db4o -&gt; db4o) y entre sistemas relacionales y db4o (RDBMS -&gt; db4o / db4o -&gt; RDBMS). Utiliza <strong>Hibernate</strong> como base para permitir mapear objetos a tablas y viceversa&nbsp;que se encarga de crear todas las tablas relevantes por default si no existen en la base relacional. </p>
<p>Los pasos básicos para utilizar dRS (db4o -&gt; RDBMS) son:</p>
<ol>
<li>Crear los mapeos&nbsp;hbm.xml de Hibernate para cada objeto del dominio </li>
<li>Crear un configuration.xml de Hibernate </li>
<li>Crear&nbsp;una base en el RDBMS </li>
<li>Arrancar dRS y ver como se copian los objetos</li></ol>
<div>Para copiar los objetos, basicamente lo que tendremos que hacer es, incluir una referencia al jar o dll de&nbsp;dRS y con las siguientes lineas de codigo, se llevara a cabo la replicacion:<br><br>&nbsp; <em>//Start a new ReplicationSession<br>&nbsp; ReplicationSession replication = <br>&nbsp;&nbsp; new GenericReplicationSession(db4oProvider, hibernateProvider);<br><br>&nbsp; //Query for objects changed from db4o<br>&nbsp; Iterator4 itor = db4oProvider.objectsChangedSinceLastReplication();<br><br>&nbsp; //Iterate changed objects, replicate them<br>&nbsp; while (itor.hasNext()) {<br>&nbsp;&nbsp; Customer customer = (Customer) itor.next();<br>&nbsp;&nbsp; replication.replicate(customer);<br>&nbsp; } <br><br>&nbsp; //commit the replication session<br>&nbsp; replication.commit(); <br></em><br>Para mayor informacion sobre dRS consultar la siguiente direccion: <br><a href="http://www.db4o.com/about/productinformation/features/drs.aspx">http://www.db4o.com/about/productinformation/features/drs.aspx</a><br></div>
<a name="16) Cuando consulto un objeto que tiene colecciones estas vienen vacias ¿Que sucede?"></a><h4>16) Cuando consulto un objeto que tiene colecciones estas vienen vacias ¿Que sucede?</h4>
<p>Puede tratarse de un problema de profundidad de activación. Si no fijese de estar usando CascadeOnUpdate en la clase contenedora y asegurese de estar configurando db4o *antes* de abrir el archivo de base de datos. Vea: <a href="http://developer.db4o.com/forums/thread/28456.aspx">http://developer.db4o.com/forums/thread/28456.aspx</a> </p>
<a name="17) Cuando obtengo un objeto con Db4o.ext().GetByID(id) todos sus campos vienen vacios ¿Que sucede?"></a><h4>17) Cuando obtengo un objeto&nbsp;con Db4o.ext().GetByID(id) todos sus campos vienen vacios ¿Que sucede?</h4>
<div>Un llamada <em>ExtObjectContainer#getByID(id)</em> debe ser seguida de un <em>ObjectContainer#activate(object, depth)</em> para instanciar/activar los valores de los campos miembro. Vea: <br><a href="http://developer.db4o.com/forums/thread/11731.aspx">http://developer.db4o.com/forums/thread/11731.aspx</a><br><a href="http://developer.db4o.com/forums/thread/13650.aspx">http://developer.db4o.com/forums/thread/13650.aspx</a> </div>
<a name="18) ¿Tengo que escribir código adicional para sincronizar objetos? ¿db4o retorna la misma referencia si consulto el mismo objeto dos veces simultaneamente?"></a><h4>18) ¿Tengo que escribir código adicional para sincronizar objetos? ¿db4o retorna la misma referencia si consulto el mismo objeto dos veces simultaneamente?</h4>
<p>El acceso al core de db4o está sincronizado. Si tienes mútiples threads corriendo y temes que podrías estar cargando objetos en db4o mientras los accesas o actualizas desde otras partes del código es posible que necesites realizar algún tipo de sicronización por tu cuenta. Para ello <em>ExtObjectContatiner</em> expone su objeto <em>lock</em>. Ver <em>ExtObjectContatiner#lock()</em></p>
<p>Y sí, db4o asegura la identidad de los objetos. Si consultas un objeto muchas veces siempre obtendrás una referencia a exactamente el&nbsp;mismo objeto.</p>
<a name="19) ¿Como recuperar uno o dos atributos solamente de los objetos almacenados de forma rápida?"></a><h4>19) ¿Como recuperar uno o dos atributos solamente de los objetos almacenados de forma rápida?</h4>
<p>Hay dos posibilidades interesantes si uno quiere acceder atributos de un objeto sin instanciarlo. </p>
<p><em>// el campo debe estar indexado para que esto funcione<br>ExtObjectContainer#storedClass();<br>StoredClass#storedField();<br>StoredField#traverseValues();</em></p>
<p><em>// o pueden usar esto<br>ExtObjectContainer#descend()</em></p>
<a name="20) ¿Maneja db4o los problemas de referencia cíclica?"></a><h4>20) ¿Maneja db4o los problemas de referencia cíclica?</h4>
<p>Si, db4o maneja bien las referencias cíclicas.</p>
<a name="21) ¿Soporta db4o las caracteristicas ACID?"></a><h4>21) ¿Soporta db4o las caracteristicas ACID?</h4>
<p>Si, las transacciones de db4o son ACID.</p>
<a name="22) ¿Hay herramientas de diseño especiales para db4o?"></a><h4>22) ¿Hay herramientas de diseño especiales para db4o?</h4>
<p>Tu modelo de clases es tu modelo de base de datos. Todas las herramientas de diseño de clases son perfectas para esto.</p>
<a name="23) ¿A que tengo que prestarle atención al utilizar una base db4o en mi aplicación?"></a><h4>23) ¿A que tengo que prestarle atención&nbsp;al utilizar&nbsp;una base db4o en mi aplicación?</h4>
<p>Esto no pude responderse brevemente. Tenemos muchas sugerencias para hacer tuning de db4o en nuestra documentación. Una regla que nunca falla: mantén todo lo más simple posible. Solo construye lo que verdaderamente necesitas.</p>
<a name="24) ¿Soporta db4o a C/C++?"></a><h4>24) ¿Soporta db4o a C/C++?</h4>
<p>No, no directamente. Aunque puedes trabajar con código C++ administrado&nbsp;en .NET</p>
<a name="25) ¿Soporta db4o VB.NET y Delphi.NET?"></a><h4>25) ¿Soporta db4o VB.NET y&nbsp;Delphi.NET?</h4>
<p>Si y si.</p>
<a name="26) ¿Como conviene almacenar objetos con datos binarios como imágenes o audio?"></a><h4>26) ¿Como conviene almacenar objetos con datos binarios como imágenes o audio?</h4>
<p>Dos posibilidades son: a) serializar a un byte array y almacenarlo en db4o b) usar nuestra funcionalidad para blobs externos (está documentado en nuestra ayuda).</p>
<a name="27) ¿Cuenta db4o con soporte de clustering?"></a><h4>27) ¿Cuenta db4o con soporte de clustering?</h4>
<p>No, db4o no tiene soporte de clustering. Cuenta con funcionalidad rudimentaria para consultar&nbsp;multiples ObjectContainers con una consulta en <em>com.db4o.Cluster</em> pero eso es todo.</p>
<a name="28) ¿Soporta db4o funciones de agregación como count, sum o average?"></a><h4>28) ¿Soporta db4o funciones de agregación como count, sum o average?</h4>
<p>Por el momento no soportamos funciones de agregación. Aconsejamos trabajar de forma orientada a objetos agregando valores en objetos de agregación (<em>"aggregate" objects</em>).</p>
<a name="29) ¿Con respecto a la capacidad de evolución automática del esquema en db4o, que tan bien se soporta la refactorización de clases?"></a><h4>29) ¿Con respecto a la capacidad de evolución automática del esquema en db4o, que tan bien se soporta la refactorización de clases?</h4>
<p>db4o se desenvuelve muy bien en el agregado y eliminación de atributos y en el agregado de clases a jerarquias. Para&nbsp;el primer caso&nbsp;puedes incluso continuar trabajando con la misma base de datos sin realizar una corrida de refactorización. La introducción de clases en jerarquias es mucho menos trivial y recomensamos almacenar los objetos en clases temporarles y luego renombrarlas.</p>
<a name="30) ¿Cual es la diferencia entre db4o y serialización en Java?"></a><h4>30) ¿Cual es la diferencia entre db4o y serialización en Java?</h4>
<p>db4o es una base de datos con transacciones, consultas y con funcionalidad de migración de esquema. La serialización está recomendada solamente&nbsp;como mecanismo de&nbsp;persistencia de corto plazo. Con serialización&nbsp;es necesario&nbsp;cargar todos los objetos en memoria si uno quiere obtener el "último" objeto al final del <em>stream</em>. La serialización falla si uno agrega&nbsp;atributos a las clases.</p>
<a name="31) ¿Es compatible una base db4o generada desde la versión Java con otra generada desde la versión .NET?"></a><h4>31) ¿Es compatible una base db4o generada desde la versión Java con otra generada desde la versión .NET?</h4>
<p>El formato de archivo de la base de datos es exactamente el mismo. Si quieres correr el mismo servidor contra las dos plataformas es necesario trabajar con aliases para "renombrar dinámicamente" los nombres de clases ya que estos tienen formatos distintos (Java: "com.db4o.Foo"&nbsp;&nbsp;.NET: "Db4objects.Db4o.Foo, FooAssembly")</p>
<a name="32) ¿Se soportan las anotaciones en el core para configuración (por ejemplo utilizar " @index"="" para="" configurar="" un="" índice)?"=""></a><h4>32) ¿Se soportan las anotaciones en el core para&nbsp;configuración (por ejemplo utilizar "@index" para configurar un índice)?</h4>
<p>Si, ya soportamos @index para indexación.</p>
<a name="34) ¿Es recomendable db4o para modelos GIS?"></a><h4>34) ¿Es recomendable db4o para modelos GIS?</h4>
<p>Es ideal ya que los modelos GIS se acoplan mejor a objetos que a filas y tablas. De todas formas no hay soporte GIS nativo en db4o, deberás construirte tu propio modelo GIS y luego almacenarlo en db4o.</p>
<a name="35) ¿Como determina db4o el comienzo y finalización de las transacciones?"></a><h4>35) ¿Como&nbsp;determina db4o&nbsp;el comienzo y finalización de las&nbsp;transacciones?</h4>
<p>La primera transacción comienza tan pronto como se abre una conexión a la base. Luego despues de cada <em>commit</em> se inicia automáticamente la siguiente transacción.</p>
<a name="36) ¿Posee db4o administración de locks o funciona como servidor de locks?"></a><h4>36) ¿Posee db4o administración de locks o funciona como servidor de locks?</h4>
<p>Algunas bases de objetos proveen esta&nbsp;funcionalidad. db4o no&nbsp;cuenta con esta funcionalidad pero puede ser implementada utilizando los semáforos provistos por db4o.&nbsp;</p>
<a name="37) ¿Puede db4o hacer rollbacks?"></a><h4>37) ¿Puede db4o hacer rollbacks?</h4>
<p>Si. db4o soporta <em>rollbacks</em> pero deben ser seguidos por un <em>refresh()</em> si se necesita utilizar el objeto al que se le hizo el rollback.&nbsp;Por otra parte, ante fallas que causen una transacción incompleta db4o normalmente hace un <em>commit</em> de la transacción a la siguiente oportunidad. Si se quiere evitar esto y se busca que a toda transacción fallida se le haga un rollback entonces puede usar el método&nbsp;<em>disableCommitRecovery()</em></p>
<p>Ejemplo de rollback a nivel de objeto (ej un piloto):</p>
<p><em>db.rollback();<br>db.ext().refresh(piloto, Integer.MAX_VALUE);</em></p>
<a name="38) ¿Se puede abrir la base en modo de solo lectura?"></a><h4>38) ¿Se puede abrir la base en modo de solo lectura?</h4>
<p>Si. Se debe utilizar <em>Db4o.configure().readOnly</em></p>
<a name="39) ¿Es posible detectar de alguna manera cambios en el esquema del modelo de objetos almacenado en db4o?"></a><h4>39) ¿Es posible detectar de alguna manera cambios en el esquema del modelo de objetos almacenado en db4o?</h4>
<p>Si. Ver en la API el método <em>detectSchemaChanges()</em></p>
<a name="40) ¿Como se crea el archivo yap de db4o antes de abrirlo?"></a><h4>40) ¿Como se crea el archivo yap de db4o antes de abrirlo?</h4>
<p>El método <em>openFile()</em> de apertura crea el archivo si este no existe.</p>
<a name="41) ¿Como se crea un índice?"></a><h4>41) ¿Como se crea un índice?</h4>
<p>Por ejemplo para indexar el atributo <em>name</em> de&nbsp;los objetos de la clase <em>Pilot</em> se hace lo siguiente:&nbsp;</p>
<p><em>Db4o.configure().objectClass(Pilot.class).objectField("name").indexed(true);</em></p>
<a name="42) ¿Como se utiliza un semáforo en db4o?"></a><h4>42) ¿Como se utiliza un semáforo en db4o?</h4>
<p>Por ejemplo:&nbsp;</p>
<p><em>db.ext().setSemaphore(“semaphoreName”, waitTime_in_ms)<br>db.ext().releaseSemaphore(“semaphoreName”);</em></p>
<a name="43) ¿Como se crea un backup de una base de db4o?"></a><h4>43) ¿Como se crea un backup de una base de db4o?</h4>
<p>Basta con copiar el archivo yap para respaldarlo. De todas formas se ofrecen en la API unos métodos para hacerlo:</p>
<p><em>db.ext().backup(“c:\xyzDB\xDB.yap”)<br>server.ext().backup(“c:\xyzDB\xDB.yap”)</em></p>
<a name="44) ¿Como se renombra una clase? ¿Y un atributo?"></a><h4>44) ¿Como se renombra una clase? ¿Y un atributo?</h4>
<p>Renombrado de clase:<br><em>Db4o.configure().objectClass("package.class").rename("newPackage.newClass");</em></p>
<p>Renombrado de campo:<br><em>Db4o.configure().objectClass("package.class").objectField("oldField").rename("newField");</em></p>
<a name="45) ¿Como se encripta una base db4o?"></a><h4>45) ¿Como se encripta una base db4o?</h4>
<p>Utilizando el método de encriptación simple:&nbsp;</p>
<p><em>Db4o.configure().encrypt(true);<br>Db4o.configure().password("yourEncryptionPasswordHere");</em></p>
<p>Utilizando XTEA (eXtended Tiny Encryption Algorithm):</p>
<p><em>Db4o.configure ().io(new XTeaEncryptionFileAdapter(password));</em></p>
<a name="46) ¿Como se utiliza db4o en modo cliente/servidor?"></a><h4>46) ¿Como se utiliza db4o en modo cliente/servidor?</h4>
<p>Del lado del servidor es necesario tener corriendo una aplicación Java o .NET (según la versión de db4o) y en ella configurar un servidor db4o de esta manera:</p>
<p><em>ObjectServer server = Db4o.openServer(YAPFILENAME, PORT);<br>server.grantAccess(USER,PASSWORD);</em></p>
<p>Del lado del cliente (por ejemplo otra aplicación Java o .NET en&nbsp;una máquina distinta al servidor) es necesario conectar al servidor y así obtener un ObjectContainer. Una vez obtenido este se trabaja sobre él de la misma forma que como si fuera un ObjectContainer obtenido de forma local:</p>
<p><em>ObjectContainer client = Db4o.openClient(host, PORT, USER, PASSWORD);<br>// Do something with this client, or open more clients<br>client.close();</em></p>
<a name="47) ¿Como se elimina un atributo/campo de un objeto en db4o?"></a><h4>47) ¿Como se elimina un atributo/campo de un objeto en db4o?</h4>
<p>Basta con remover el campo en tu clase y seguir trabajando normalmente (conviene correr una defragmentación para relamente deshacerse del campo).</p>
<p>Para leer más sobre evolución de esquema:</p>
<p><a href="http://developer.db4o.com/Resources/view.aspx/Reference/Advanced_Type_Handling/Refactoring_and_Schema_Evolution"><font color="#333333">http://developer.db4o.com/Resources/view.aspx/Reference/Advanced_Type_Handling/Refactoring_and_Schema_Evolution</font></a></p>
<a name="48) ¿Alguna recomendación para correr db4o en un sitio web con múltiples conexiones concurrentes?"></a><h4><em>48) ¿Alguna recomendación para correr db4o en un sitio web con múltiples conexiones concurrentes?</em></h4>
<p>Por diseño db4o puede manejar de 10 a 20&nbsp;hits concurrentes por segundo en la base de datos&nbsp;que es bastante si se tiene en cuenta que se obtienen objetos reales no datos planos que requieran una transformación.</p>
<p>Algunos consejos para construir aplicaciones web con db4o:</p>
<p>- Olvidate de todos los patrones aprendidos sobre construir aplicaciones web con un RDBMS, muchos de ellos son anti patrones al utilizar una base de objetos como db4o.</p>
<p>- Piensa en objetos reales (datos + comportamiento), no en datos tabulares planos incrustados en objetos.</p>
<p>- Trata de evitar hacer un hit a la base de datos por todos los medios. Usa datos en cache la mayor cantidad de tiempo&nbsp;posible.</p>
<p>- Usa la RAM para hacer escalar tu aplicación. Un objeto que ya vive en la VM no necesita muchos recursos y ya está ahí cuando lo necesitas.</p>
<p>- Utiliza un framework web orientado a componentes como Echo2, WingS o Tapestry para disfrutar de los beneficios del desarrollo OO con db4o.</p>
<a name="49) ¿Soporta db4o la paginación (paging) de los resultados de las consultas?"></a><h4><em>49) ¿Soporta db4o la paginación (paging) de los resultados de las consultas?</em></h4>
<p>db4o aun no incluye funcionalidades específicas de paginación aunque se está trabajando en ello (<a href="http://tracker.db4o.com/jira/browse/COR-202">http://tracker.db4o.com/jira/browse/COR-202</a>). Sin embargo, recuerda que el resultado de una consulta son objetos no activados por lo tanto una forma de hacer paginación sería ir activando los objetos de la consulta a medida que se necesitan.</p>
<a name="50) ¿Que requisitos deben cumplir mis objetos para ser almacenados en db4o (herencia, anotaciones, constructores, etc)?"></a><h4><em>50) ¿Que requisitos deben cumplir mis objetos para ser almacenados en db4o (herencia, anotaciones, constructores, etc)?</em></h4>
<p>Ninguno. db4o almacena los objetos en su estado natural. Los objetos no necesitan extender ninguna clase básica mágica o implementar alguna interfaz especial. No necesitan tampoco tener algún campo id especial o algun constructor especial (no hay requerimientos para un constructor sin argumentos, ni siquiera para un constructor público). db4o no requiere de descriptores de objetos (XML u otros) y no requiere que se marquen las clases persistentes con anotaciones. Tampoco se requiere que los campos persistentes tengan getters y setters que cumplan con la especificación de Java Beans. En resúmen, db4o tomará los objetos como vengan.</p>
<a name="51) ¿Como puedo saber si una consulta nativa fue optimizada?"></a><h4><em>51) ¿Como puedo saber si una consulta nativa fue optimizada?</em></h4>
<p>Es posible acoplarse al mecanismo de callbacks de db4o para recibir notificaciones que indiquen cuando un predicado (Predicate) ha sido optimizado y cuando no de esta forma:</p>
<p><em>ObjectContainer db = ObjectContainerFactory.get().createObjectContainer();((YapStream)db).getNativeQueryHandler().addListener(new Db4oQueryExecutionListener() {&nbsp; public void notifyQueryExecuted(Predicate filter, String msg) {&nbsp; }});</em></p>
<p>Este callback será notificado cuando db4o trate con un predicado por primera vez. El argumento msg será "DYNOPTIMIZED"si la consulta&nbsp;fue dinámicamente optimizada, "UNOPTIMIZED" si la consulta no pudo ser optimizada y "PREOPTIMIZED" si la consulta&nbsp;fue preoptimizada (db4o cuenta con una herramienta de manipulación de bytecodes para preoptimizar los predicados).<br></p>
<a name="52) ¿Como puedo refactorizar una clase agregandole una clase padre y mover un atributo desde la clase hija a la clase padre?"></a><h4><em>52) ¿Como puedo refactorizar una clase agregandole una clase padre y mover un atributo desde la clase hija a la clase padre? </em></h4>
<p>No hay forma directa de hacer esto en db4o pero existe una forma (algo rebuscada) de hacerlo, ver aquí (en inglés):<br><a href="http://developer.db4o.com/forums/thread/26997.aspx">http://developer.db4o.com/forums/thread/26997.aspx</a></p>
<a name="53) Olvidé habilitar los UUIDs y VersionNumbers en mi BD pero ya tengo muchos objetos en ella ¿Como puedo habilitar esto sin perder mis objetos?"></a><h4><em>53) Olvidé habilitar los UUIDs y VersionNumbers en mi BD pero ya tengo muchos objetos en ella ¿Como puedo habilitar esto sin perder mis objetos? </em></h4>
<p>Será necesario volver a grabar los objetos con estas caracteristicas habilitadas:</p>
<p><em>Db4o.configure().generateUUIDs(Integer.MAX_VALUE);<br>Db4o.configure().generateVersionNumbers(Integer.MAX_VALUE);</em></p>
<p><em>ObjectContainer objectContainer = Db4o.openFile(DB4O_YAP_FILE);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>for(Object o : objectContainer.get(null)) {<br>&nbsp;&nbsp;&nbsp;&nbsp; objectContainer.set(o);<br>}<br>objectContainer.commit();<br>objectContainer.close();</em></p>
<a name="54) ¿Los IDs de objetos que usa db4o son temporales?"></a><h4><em>54) ¿Los IDs de objetos que usa db4o son temporales? </em></h4>
<p>Las&nbsp;IDs que utiliza db4o son de dos tipos:</p>
<p>a)&nbsp;IDs internos de los objetos, que son más bien punteros a la base de datos (no a memoria) y son únicos dentro de un ObjectContainer.</p>
<p>b) IDs globales de los objetos (no activados por defecto pero pueden activarse) que están garantizados en proveer un ID único por objeto en toda la base a nivel global.</p>
<p>Si al almacenar un objeto en la base&nbsp;uno averigua el ID asignado por db4o, luego podrá recuperarlo fácilmente por ID como casi como si&nbsp;se tratar&nbsp;una recuperación por PK de las bases relacionales.</p>
<p>Esto está descrito el&nbsp;capitulo 15 del tutorial (IDs) de la v5.5 de db4o (este debería estar en la carpeta donde&nbsp;se explica como trabajar con&nbsp;IDs y las diferencias entre las variantes.</p>
<p>Mucho cuidado con la activación ya que al recuperar por ID los objetos no vienen activados automáticamente (se debe recuperar por ID y luego activar el objeto (especificando la profundidad de activación que se necesite) sino parecerá como que obtuvimos un objeto vacio).</p>
<a name="55) ¿Qué son los UUIDs y los VersionNumbers?"></a><h4><em>55) ¿Qué son los UUIDs y los VersionNumbers? </em></h4>
<p>Los UUIDs son IDs de objetos que son únicos a lo largo de todas las bases creadas con db4o. Eso se logra haciendo que el timestamp de creación de la base sea parte del UUID del objeto.</p>
<p>El número de versión de un objeto indica la última vez que un objeto fue modificado. Es la versión de la base de datos al moemnto de la modificación. La versión de la base comienza en cero y es incrementada cada vez que se hace un <em>commit</em> de una transacción.</p>
<p>Estas caracteristicas se usan fuertemente en la replicación de instancias de db4o con dRS (los UUIDs aseguran que no haya problemas de identificación unívoca de los objetos, los números de versiones permiten saber cuando los objetos están sincronizados). Para más información sobre dRS ver pregunta 15 este FAQ.</p>
<a name="56) ¿Puedo usar db4o en celulares?"></a><h4><em>56) ¿Puedo usar db4o en celulares?</em></h4>
<p>Si. db4o trabaja perfectamente en plataformas&nbsp;Java CDC&nbsp;y en todas las plataformas&nbsp;.NET&nbsp;incluido el&nbsp;Compact Framework.</p>
<p>Aun no se ha&nbsp;planeado una versión&nbsp;de db4o para J2ME CLDC, la velocidad con que se pueda&nbsp;planear y liberar&nbsp;una versión estable depende fuertemente del interés que demuestren los clientes (que es más bien bajo en este momento). *** La versión actual es solo una prueba de concepto y&nbsp;se&nbsp;desaconseja su utilización, no ha sido probada&nbsp;***</p>
<p>Puede descargar&nbsp;las fuentes de esta&nbsp;versión para J2ME CLDC desde nuestro repositorio SVN aquí:</p>
<p><a href="https://db4objects.net/svn/db4o/trunk/db4oME/">https://db4objects.net/svn/db4o/trunk/db4oME/</a></p>
<p>Actualmente la versión J2ME se encuentra registrada bajo el código COR-170 en el sistema de tracking de db4o (Jira):</p>
<p><a href="http://tracker.db4o.com/browse/COR-170">http://tracker.db4o.com/browse/COR-170</a><a href="http://tracker.db4o.com/jira/browse/COR-170?watch=true"></a></p>
<p>(puedes configurar un "watch"&nbsp;allí para ser notificado de cambios)</p>
<a name="57) ¿Puedo utilizar db4o con Symbian OS?"></a><h4><em>57) ¿Puedo utilizar db4o con Symbian OS?</em></h4>
<p>Si. Hechale una mirada a este post: <a href="http://developer.db4o.com/forums/post/29822.aspx">http://developer.db4o.com/forums/post/29822.aspx</a></p><em>
<a name="58) ¿Si uso db4o sin adquirir una licencia comercial mi software también debe ser de código abierto?"></a><h4><em>58) ¿Si uso db4o sin adquirir una licencia comercial mi software también debe ser de código abierto?</em></h4>
</em><p><em></em>Si. Tu software deberá ser liberado bajo alguna licencia open source como la GPL, LGPL, Apache, BSD y&nbsp;Eclipse (para más información ver la licencia <a class="" href="http://www.db4o.com/about/company/legalpolicies/docl.aspx">dOCL de db4o</a>).&nbsp;Según la&nbsp;<span class="imgtitle" id="ctl00_sectionPageTitle_PageCaption"><a href="http://www.db4o.com/about/company/legalpolicies/gplinterpretation.aspx"><font color="#333333">db4objects' GPL Interpretation Policy</font></a> si no adquieres una licencia comercial debes liberar tu software como open source cuando:</span></p>
<ul>
<li>Compilas tu software contra el software db4o (<span class="snap_shots">you compile your software against the db4o software)</span> 
</li><li>Tu software contiene referencias especificas al software db4o (<span class="snap_shots">Your software contains specific references to the db4o software</span>) 
</li><li><span class="snap_shots">
<div class="t2">Tu software requiere el software db4o para trabajar (<span class="snap_shots">Your software requires the db4o software to work</span>)</div></span>
</li><li><span class="snap_shots">
<div class="t2">Tu software usa la API propietaria del software db4o (Your software uses the proprietary API to the db4o software.)</div></span></li></ul>
<p>Aquí hay una pequeña <a href="http://www.gnu.org/licenses/gpl-howto.html"><font color="#333333">guía de como liberar tus programas usando GPL</font></a>.<br></p></div>
    </div>
    <div id="footer">
					This revision (102) was last Modified 2008-06-16T18:22:12 by German Viscuso.
				</div>
  
</body></html>